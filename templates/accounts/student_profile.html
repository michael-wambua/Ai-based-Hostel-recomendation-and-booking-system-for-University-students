{% extends 'base.html' %} 
{% block title %}Student Profile | Hostel Finder{% endblock %} 
{% block content %}
<div class="container mt-5 mb-5">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card shadow">
        <div
          class="card-header bg-primary text-white d-flex justify-content-between align-items-center"
        >
          <h3 class="mb-0">Profile Settings</h3>
          <a
            href="{% url 'student_profile_update' %}"
            class="btn btn-light btn-sm"
            >Edit Profile</a
          >
        </div>
        <div class="card-body">
          {% if messages %}
          <div class="messages mb-4">
            {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">{{ message }}</div>
            {% endfor %}
          </div>
          {% endif %}

          <div class="row">
            <div class="col-md-4 text-center mb-4 mb-md-0">
              {% if profile.profile_picture %}
              <img
                src="{{ profile.profile_picture.url }}"
                alt="Profile Picture"
                class="rounded-circle"
                width="150"
                height="150"
              />
              {% else %}
              <div
                class="profile-image-placeholder bg-light rounded-circle mx-auto d-flex align-items-center justify-content-center"
                style="width: 150px; height: 150px"
              >
                <i class="bi bi-person" style="font-size: 4rem"></i>
              </div>
              {% endif %}
              <h4 class="mt-3">{{ profile.user.get_full_name }}</h4>
              <p class="text-muted">{{ profile.user.email }}</p>
            </div>

            <div class="col-md-8">
              <h5 class="border-bottom pb-2 mb-3">Personal Information</h5>

              <div class="row mb-3">
                <div class="col-md-4 fw-bold">Student ID:</div>
                <div class="col-md-8">
                  {{ profile.student_id|default:"Not specified" }}
                </div>
              </div>

              <div class="row mb-3">
                <div class="col-md-4 fw-bold">Gender:</div>
                <div class="col-md-8">
                  {{ profile.gender|default:"Not specified" }}
                </div>
              </div>

              <div class="row mb-3">
                <div class="col-md-4 fw-bold">Date of Birth:</div>
                <div class="col-md-8">
                  {{ profile.date_of_birth|default:"Not specified" }}
                </div>
              </div>

              <div class="row mb-3">
                <div class="col-md-4 fw-bold">Phone:</div>
                <div class="col-md-8">
                  {{ profile.phone|default:"Not specified" }}
                </div>
              </div>

              <div class="row mb-3">
                <div class="col-md-4 fw-bold">Address:</div>
                <div class="col-md-8">
                  {{ profile.address|default:"Not specified" }}
                </div>
              </div>

              <h5 class="border-bottom pb-2 mb-3 mt-4">Academic Information</h5>

              <div class="row mb-3">
                <div class="col-md-4 fw-bold">University:</div>
                <div class="col-md-8">
                  {{ profile.university|default:"Not specified" }}
                </div>
              </div>

              <div class="row mb-3">
                <div class="col-md-4 fw-bold">Course of Study:</div>
                <div class="col-md-8">
                  {{ profile.course_of_study|default:"Not specified" }}
                </div>
              </div>

              <h5 class="border-bottom pb-2 mb-3 mt-4">Hostel Preferences</h5>

              <div class="row mb-3">
                <div class="col-md-4 fw-bold">Budget Range:</div>
                <div class="col-md-8">
                  Ksh{{ profile.budget_min|floatformat:2|default:"0.00" }} -
                  Ksh{{ profile.budget_max|floatformat:2|default:"0.00" }}
                </div>
              </div>

              <div class="row mb-3">
                <div class="col-md-4 fw-bold">Preferred Location:</div>
                <div class="col-md-8">
                  {{ profile.preferred_location|default:"Not specified" }}
                </div>
              </div>

              <div class="row mb-3">
                <div class="col-md-4 fw-bold">Room Preference:</div>
                <div class="col-md-8">
                  {{ profile.room_preference|default:"Not specified" }}
                </div>
              </div>

              <div class="row mb-3">
                <div class="col-md-4 fw-bold">Preferred Amenities:</div>
                <div class="col-md-8">
                  {{ profile.preferred_amenities|default:"Not specified" }}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
